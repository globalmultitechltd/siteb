<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
    <title>Password Protected Page</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #mainDialog > * {
            padding: 10px 30px;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
            cursor: pointer;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #attribution {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            padding: 10px;
            font-weight: bold;
            font-size: 0.8em;
        }
        #attribution, #attribution a {
            color: #999;
        }
        .error {
            display: none;
            color: red;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">This page is password protected.</div>
                <div id="passArea">
                    <p id="passwordPrompt">Password</p>
                    <input id="pass" type="password" name="pass" autofocus>
                    <div>
                        <span id="messageWrapper">
                            <span id="invalidPass" class="error">Sorry, please try again.</span>
                            <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                            <span id="success" class="notifyText">Success!</span>
                            &nbsp;
                        </span>
                        <button id="submitPass" type="button">Submit</button>
                        <div style="clear: both;"></div>
                    </div>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 1000);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
    })();
    </script>
  </body>
</html>
